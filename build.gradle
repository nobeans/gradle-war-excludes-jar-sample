apply plugin: 'war'

repositories {
    mavenCentral()
    maven {
        url "http://repository.codehaus.org"
        url "http://snapshots.repository.codehaus.org"
    }
}

configurations {
    // まずはwarで不要なものをruntimeから除外してしまう。

    //runtime.exclude group: 'commons-cli', module: 'commons-cli'

    // spock-coreの依存先も除外される
    runtime.exclude module: 'spock-core'
}

dependencies {
    runtime project(':subproject-a')
    runtime project(':subproject-b')
    runtime 'org.codehaus.groovy:groovy-all:2.1.6'

    // warには不要であるがruntime/testRuntimeで必要なJarをあらためてprovidedRuntimeで宣言しなおす。
    providedRuntime 'org.codehaus.groovy:groovy-all:2.1.6'
    providedRuntime 'org.spockframework:spock-core:0.7-groovy-2.0'
    //providedRuntime 'commons-cli:commons-cli:1.2'
}

